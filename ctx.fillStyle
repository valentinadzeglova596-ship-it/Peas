<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Ali AI Studio Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #050505; color: white; font-family: sans-serif; }
        .canvas-container { width: 320px; height: 568px; background: #000; border: 4px solid #333; position: relative; border-radius: 20px; overflow: hidden; }
        canvas { width: 100%; height: 100%; }
        .video-card img { width: 100%; height: 180px; object-fit: cover; border-radius: 12px; display: block; }
    </style>
</head>
<body class="p-5 md:p-10 flex flex-col items-center">

    <h1 class="text-3xl font-black text-red-600 mb-8 uppercase tracking-tighter">Ali AI Video Generator</h1>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 max-w-6xl w-full">
        
        <!-- ГЕНЕРАТОР ВІДЕО -->
        <div class="flex flex-col items-center bg-[#111] p-6 rounded-3xl border border-gray-800 shadow-2xl">
            <h2 class="mb-4 font-bold text-gray-400">ПАНЕЛЬ МОНТАЖУ (9:16)</h2>
            <div class="canvas-container">
                <canvas id="videoCanvas" width="720" height="1280"></canvas>
            </div>
            <input id="videoText" type="text" value="ПІДПИШИСЬ!" class="mt-4 w-full bg-black border border-gray-700 p-3 rounded-lg text-center font-bold">
            <button onclick="recordAndDownload()" id="recBtn" class="mt-4 w-full bg-red-600 py-4 rounded-xl font-black hover:bg-red-700 transition uppercase">
                Згенерувати та Скачати
            </button>
        </div>

        <!-- ГАЛЕРЕЯ (КАРТИНКИ ТЕПЕР ПРАЦЮЮТЬ) -->
        <div class="space-y-6">
            <h2 class="text-xl font-bold border-l-4 border-red-600 pl-3 uppercase">Твої проєкти</h2>
            
            <div class="video-card bg-[#111] p-4 rounded-2xl border border-gray-800">
                <img src="https://plus.unsplash.com" alt="Tech">
                <h3 class="mt-3 font-bold">Як Алі створює контент</h3>
            </div>

            <div class="video-card bg-[#111] p-4 rounded-2xl border border-gray-800">
                <img src="https://images.unsplash.com" alt="YouTube">
                <h3 class="mt-3 font-bold">Секрети YouTube Shorts 2026</h3>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('videoCanvas');
        const ctx = canvas.getContext('2d');
        const textInput = document.getElementById('videoText');

        function animate(time) {
            // Фон
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Ефекти (кружальця)
            for(let i=0; i<15; i++) {
                ctx.fillStyle = `hsl(${(time/10 + i*20)%360}, 70%, 50%)`;
                ctx.beginPath();
                const x = Math.sin(time/1000 + i) * 300 + 360;
                const y = (time/2 + i*150) % canvas.height;
                ctx.arc(x, y, 40, 0, Math.PI*2);
                ctx.fill();
            }

            // Текст Алі
            ctx.fillStyle = "white";
            ctx.font = "bold 90px sans-serif";
            ctx.textAlign = "center";
            ctx.shadowBlur = 30;
            ctx.shadowColor = "red";
            ctx.fillText(textInput.value, canvas.width/2, canvas.height/2);

            requestAnimationFrame(animate);
        }

        async function recordAndDownload() {
            const btn = document.getElementById('recBtn');
            const stream = canvas.captureStream(30);
            const recorder = new MediaRecorder(stream, { mimeType: 'video/webm' });
            const chunks = [];

            recorder.ondataavailable = e => chunks.push(e.data);
            recorder.onstop = () => {
                const blob = new Blob(chunks, { type: 'video/webm' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url; a.download = 'ali_video.webm'; a.click();
                btn.innerText = "Згенерувати та Скачати";
            };

            recorder.start();
            btn.innerText = "Записую (5 сек)...";
            setTimeout(() => recorder.stop(), 5000);
        }

        animate(0);
    </script>
</body>
</html>
